
    [
        {
            "name":"使用说明",
            "apis":[
                {
                    "name":"依赖项",
                    "type":"Description",
                    "returned":"String",
                    "desc":"该模块无任何外部依赖"

                },
                {
                    "name":"模块引入方式",
                    "type":"Description",
                    "returned":"String",
                    "desc":"直接在页面上引入模块的js文件即可",
                    "demoCodeRefs":[
                        {
                            "name":"",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/useExample.html",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name":"注入event能力",
            "apis":[
                {
                    "name":"mixin",
                    "type":"Function",
                    "desc":"让一个类具备订阅发布事件的能力",
                    "returned":"undefined",
                    "params":[
                        {"name":"ClassConstructor","type":"Function","desc":"要具备事件发布能力的类的构造函数"}
                    ],
                    "demoCodeRefs":[
                        {
                            "name":"1、使用mixin让类具备事件发布能力",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.mixin.real.js",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        },
                        {
                            "name":"点击下面按钮运行示例",
                            "desc":"",
                            "type":"real",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.mixin.html",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                                "../../src/OneLib.EventEmitter.js",
                                "../demoData/OneLib.EventEmitter/example.mixin.real.js"
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name":"事件的订阅、取消订阅",
            "apis":[
                {
                    "name":"on",
                    "type":"Function",
                    "desc":"订阅事件.返回一个标识了这个订阅关系的整数。使用者可以保存这个值，以便于下次使用它来取消监听",
                    "returned":"SubscribeId[int]",
                    "params":[
                        {"name":"eventName","type":"String","desc":"要订阅的事件名称"},
                        {"name":"handler","type":"Function(arg1,arg2,...)","desc":"事件处理函数"},
                        {"name":"[TTL]","type":"int","desc":"(可选)回调函数TTL,默认为无限大\r\n,如果设置了TTL,则该处理函数会被调用TTL次，之后就自动取消订阅"}
                    ],
                    "demoCodeRefs":[
                        {
                            "name":"on语法示例",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.on.js",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        },
                        {
                            "name":"点击下面按钮运行示例",
                            "desc":"",
                            "type":"real",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.emit.real.html",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                                "../../src/OneLib.EventEmitter.js",
                                "../demoData/OneLib.EventEmitter/example.on.js"
                            ]
                        }
                    ]
                },
                {
                    "name":"once",
                    "type":"Function",
                    "desc":"同样是订阅事件.和on的区别是once订阅的函数，只会调用一次。（之后就自动取消订阅了）",
                    "returned":"SubscribeId[int]",
                    "params":[
                        {"name":"eventName","type":"String","desc":"要订阅的事件名称"},
                        {"name":"handler","type":"Function(arg1,arg2,...)","desc":"事件处理函数\r\n注意：该回调只会执行一次哦，这在很多场景下非常方便"}
                    ],
                    "demoCodeRefs":[
                        {
                            "name":"once语法示例",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.emit.realonce.js",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        },
                        {
                            "name":"点击下面按钮运行示例",
                            "desc":"",
                            "type":"real",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.emit.realonce.html",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                                "../../src/OneLib.EventEmitter.js",
                                "../demoData/OneLib.EventEmitter/example.emit.realonce.js"
                            ]
                        }
                    ]
                },
                {
                    "name":"off",
                    "type":"Function",
                    "desc":"取消事件处理函数。\r\n可以使用handler,则只有指定的handler会被移除。也可以使用on返回的订阅标识。",
                    "returned":"undefined",
                    "params":[
                        {"name":"eventName","type":"String","desc":"要取消订阅的事件名称"},
                        {"name":"handlerOrSubscribeId","type":"Function","desc":"要取消挂钩的事件处理函数"}
                    ],
                    "demoCodeRefs":[
                        {
                            "name":"off语法示例",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.off.js",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name":"事件触发、事件管道(pipe)",
            "apis":[

                {
                    "name":"emit",
                    "type":"Function",
                    "desc":"触发事件.当需要向外部抛出一个事件的时候，使用该方法。该方法返回调用对象自身。",
                    "returned":"this",
                    "params":[
                        {"name":"eventName","type":"String","desc":"要触发的事件名称\r\n<span class='warn-notice'>需要注意的是，如果使用emit('*',...)发射事件，则只会触发on('*')1次</span>"},
                        {"name":"[arg1,arg2...]","type":"args","desc":"传递给事件处理函数的参数"}
                    ],
                    "demoCodeRefs":[
                        {
                            "name":"emit语法示例",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.emit.js",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        }
                    ]
                },
                {
                    "name":"pipe",
                    "type":"Function",
                    "desc":"功能类似emit,不过是以管道的方式触发事件.\r\n类似bash/shell的'|'操作符,当调用pipe来发射事件时，<span class='warn-notice'>使用on订阅的处理函数会多接收一个参数next(最后一个参数),处理函数通过调用next()方法，把事件处理权利交给下一个订阅者。</span>\r\n每个订阅者按照调用on的先后顺序进行调用，<span class='warn-notice'>但是如果某一个处理函数没有调用next(),则执行链条会中断</span>\r\n<span class='warn-notice'>如果希望在执行过程中修改待处理的参数(即pipe(p1,p2...)),则可以通过调用next(newP1,newP2)来实现</span>",
                    "returned":"this",
                    "params":[
                        {"name":"eventName","type":"String","desc":"要触发的事件名称"},
                        {"name":"[arg1,arg2...]","type":"args","desc":"传递给事件处理函数的参数"},
                        {"name":"next","type":"function(...args)","desc":"执行流交给下一个订阅者开始执行\r\n往next函数中传入新的参数，可以修改执行流的参数"}
                    ],
                    "demoCodeRefs":[
                        {
                            "name":"pipe 语法示例",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.pipe.js",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        },
                        {
                            "name":"点击下面按钮运行示例",
                            "desc":"",
                            "type":"real",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.pipe.html",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                                "../../src/OneLib.EventEmitter.js",
                                "../demoData/OneLib.EventEmitter/example.pipe.js"
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name":"on的特殊用法",
            "apis":[
                {
                    "name":"on('*')",
                    "type":"Function",
                    "desc":"和on一样，区别在订阅的是对象发出的所有事件.\r\n一种典型的使用场景是你希望制作一个事件代理proxy,会非常有用。",
                    "returned":"SubscribeId[int]",
                    "params":[
                        {"name":"eventName","type":"String","desc":"要订阅的事件名称"},
                        {"name":"handler","type":"Function(evtName,[arg1,arg2,...])","desc":"事件处理函数\r\n要注意的是，这个回调函数的第一个参数是：emit发出的事件名，之后才是其他参数"},
                        {"name":"[TTL]","type":"int","desc":"(可选)回调函数TTL,默认为无限大\r\n,如果设置了TTL,则该处理函数会被调用TTL次，之后就自动取消订阅"}
                    ],
                    "demoCodeRefs":[
                        {
                            "name":"on('*')语法示例",
                            "desc":"",
                            "type":"example",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.onall.js",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                            ]
                        },
                        {
                            "name":"点击下面按钮运行示例",
                            "desc":"",
                            "type":"real",
                            "codeUrl":"../demoData/OneLib.EventEmitter/example.emit.onall.html",
                            "cssUrls":[
                            ],
                            "javascriptUrls":[
                                "../../src/OneLib.EventEmitter.js",
                                "../demoData/OneLib.EventEmitter/example.onall.js"
                            ]
                        }
                    ]
                }
            ]
        }
    ]
