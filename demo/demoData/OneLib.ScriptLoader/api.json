[
    {
        "name":"单个加载脚本",
        "apis":[
            {
                "name":"loadScript",
                "type":"Function",
                "desc":"加载一个js脚本,并且立即执行。",
                "params":[
                    {"name":"url","type":"String","desc":"要加载的脚本地址。"},
                    {"name":"callback","type":"Function","desc":"脚本加载成功后的回调"}
                ],
                "demoCodeRefs":[
                    {
                        "name":"script_a.js",
                        "desc":"这是即将被异步加载的文件",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/script_a.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"example.loadScript.js",
                        "desc":"这是触发下载的文件",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.loadScript.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"点击下面按钮运行示例",
                        "desc":"",
                        "type":"real",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.loadScript.html",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                            "../demoData/OneLib.ScriptLoader/example.loadScript.js"
                        ]
                    }
                ]
            }
        ]
    },
    {
        "name":"批量加载脚本",
        "apis":[
            {
                "name":"beginQueue",
                "type":"Function",
                "returned":"ScriptQueue",
                "desc":"开启一个脚本加载队列。返回对象是一个ScriptQueue,可以通过它进行链式调用",
                "params":[
                    {"name":"queueName","type":"String","desc":"队列名称。随便填即可，如果重复的话，后面的会覆盖前面的"},
                    {"name":"initFiles","type":"Array<String>","desc":"(可不传)，要下载的文件列表."}
                ],
                "demoCodeRefs":[
                    {
                        "name":"module_b.js",
                        "desc":"这是要异步加载的第1个js",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/module_b.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"module_b2.js",
                        "desc":"这是要异步加载的第2个js",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/module_b2.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"module_b3.js",
                        "desc":"这是要异步加载的第3个js",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/module_b3.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"example.beginQueue.js",
                        "desc":"这是触发下载的代码示例，在我们的例子中，3个模块必须按照顺序加载，否则会抛出异常(后面的模块依赖前面的模块)",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.beginQueue.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"点击下面按钮运行示例,并观察控制台看js的下载顺序情况",
                        "desc":"",
                        "type":"real",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.beginQueue.html",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                            "../demoData/OneLib.ScriptLoader/example.beginQueue.js"
                        ]
                    }
                ]
            },
            {
                "name":"ScriptQueue.load",
                "type":"Function",
                "returned":"ScriptQueue",
                "desc":"把一个文件添加到下载队列(不会立刻下载，要等到start/asyncStart才开始下载)。返回对象是一个 ScriptQueue,可以通过它进行链式调用",
                "params":[
                    {"name":"url","type":"String","desc":"要下载的脚本路径"}
                ],
                "demoCodeRefs":[
                    {
                        "name":"写法示例",
                        "desc":"具体demo可参考 beginQueue 中的代码",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.ScriptQueue.load.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    }
                ]
            },

            {
                "name":"ScriptQueue.start",
                "type":"Function",
                "returned":"undefined",
                "desc":"同步开启队列的下载动作.脚本下载过程中如果多次调用，不会多次触发下载。（等队列下载完成后，还可以继续往里添加文件，再调用下载。此时队列只会下载新加入的文件，并重新触发对应的相关事件）",
                "params":[
                ],
                "demoCodeRefs":[
                    {
                        "name":"开始下载",
                        "desc":"",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.beginQueue.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    }
                ]
            },
            {
                "name":"ScriptQueue.asyncStart",
                "type":"Function",
                "returned":"undefined",
                "desc":"异步开启队列的下载动作.脚本下载过程中如果多次调用，不会多次触发下载。（等队列下载完成后，还可以继续往里添加文件，再调用下载。此时队列只会下载新加入的文件，并重新触发对应的相关事件）",
                "params":[
                ],
                "demoCodeRefs":[
                    {
                        "name":"演示队列并发下载文件",
                        "desc":"队列使用异步下载模式的时候,队列内部的所有文件都是并行下载的(依赖浏览器实现).可以观察timeline看文件的下载是否并行",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.asyncStart.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"点击下面按钮运行示例,并观察控制台看js的下载顺序情况",
                        "desc":"",
                        "type":"real",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.asyncStart.html",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                            "../demoData/OneLib.ScriptLoader/example.asyncStart.js"
                        ]
                    }
                ]
            }
        ]
    },
    {
        "name":"队列下载事件监听",
        "apis":[
            {
                "name":"ScriptQueue.on",
                "type":"Function",
                "returned":null,
                "desc":"ScriptLoader内置了OneLib.EventEmitter，可以在脚本加载过程中触发一些事件来通知外部",
                "params":[
                    {"name":"eventName","type":"String","desc":"事件'load':表示单个脚本下载完成;\r\n事件'finish':表示所有都下载完成"},
                    {"name":"callback","type":"Function(url,begin,end)","desc":"事件处理函数。\r\n当event为'load'时，得到3个参数：脚本地址、开始时间、结束时间。 \r\n当event为'finish'时，没有参数"}
                ],
                "demoCodeRefs":[
                    {
                        "name":"获取所有文件下载成功消息",
                        "desc":"",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.ScriptQueue.onFinish.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"点击下面按钮运行示例",
                        "desc":"",
                        "type":"real",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.ScriptQueue.onFinish.html",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                            "../demoData/OneLib.ScriptLoader/example.ScriptQueue.onFinish.js"
                        ]
                    }
                ]
            }
        ]
    },
    {
        "name":"其他",
        "apis":[
            {
                "name":"theQueue",
                "type":"Function",
                "returned":"ScriptQueue",
                "desc":"根据队列名称，获取指定队列的对象引用",
                "params":[
                    {"name":"queueName","type":"String","desc":"队列名称。"}
                ],
                "demoCodeRefs":[
                    {
                        "name":"example.theQueue.js",
                        "desc":"查找一个已经存在的queue",
                        "type":"example",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.theQueue.js",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                        ]
                    },
                    {
                        "name":"点击下面按钮运行示例",
                        "desc":"",
                        "type":"real",
                        "codeUrl":"../demoData/OneLib.ScriptLoader/example.theQueue.html",
                        "cssUrls":[
                        ],
                        "javascriptUrls":[
                            "../demoData/OneLib.ScriptLoader/example.theQueue.js"
                        ]
                    }
                ]
            }
        ]
    },
    {
        "name":"要点说明",
        "apis":[
            {
                "name":"脚本的重复加载",
                "type":"Description",
                "returned":"String",
                "desc":"ScriptLoader会在内部维护一个全局的脚本加载字典，外部如果通过loadScript、Queue.load动作产生下载任务中有重复的脚本，loader会智能识别，不会发生多次下载的情况"

            }
        ]
    }
]